graph TD
    subgraph Data Ingestion
        A[Raw Data Sources] --> B(Kafka Message Queue)
        B --> C{Data Ingestor Service}
    end

    subgraph Data Processing
        C --> D[Spark Streaming/Batch Processor]
        D --> E(Data Transformation/Cleansing)
    end

    subgraph Data Storage
        E --> F[Data Lake HDFS]
        E --> G[NoSQL Database]
        E --> H[Relational Database]
    end

    subgraph Data Analysis & Serving
        F --> I(Analytical Processing Engine)
        G --> I
        H --> I
        I --> J[Machine Learning Models]
        I --> K[Reporting/Dashboarding]
        J --> K
    end

    K --> L[Business Users/Applications]

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bbf,stroke:#333,stroke-width:2px
    style C fill:#ccf,stroke:#333,stroke-width:2px
    style D fill:#ccf,stroke:#333,stroke-width:2px
    style E fill:#ccf,stroke:#333,stroke-width:2px
    style F fill:#fcf,stroke:#333,stroke-width:2px
    style G fill:#fcf,stroke:#333,stroke-width:2px
    style H fill:#fcf,stroke:#333,stroke-width:2px
    style I fill:#ccf,stroke:#333,stroke-width:2px
    style J fill:#ccf,stroke:#333,stroke-width:2px
    style K fill:#bbf,stroke:#333,stroke-width:2px
    style L fill:#f9f,stroke:#333,stroke-width:2px

